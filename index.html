<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peak & Beans | Bordeaux | Bio-Hacking & Café</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F7F5F2;
            color: #1A1C1A;
            overflow-x: hidden;
        }
        .font-serif { font-family: 'Playfair Display', serif; }
        .glass-panel {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        .gradient-text {
            background: linear-gradient(135deg, #2D5A27, #8B5A2B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .zen-blob {
            position: fixed;
            border-radius: 50%;
            filter: blur(100px);
            z-index: -1;
            opacity: 0.12;
            animation: blob-drift 25s infinite alternate ease-in-out;
        }
        @keyframes blob-drift {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(120px, 80px) scale(1.2); }
        }
        .loading-spinner {
            border: 2px solid rgba(45, 90, 39, 0.1);
            border-top: 2px solid #2D5A27;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .modal-enter { animation: modal-fade-in 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes modal-fade-in { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
    </style>
    <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://esm.sh/@google/genai@^1.41.0"
      }
    }
    </script>
</head>
<body>
    <div class="zen-blob w-[600px] h-[600px] bg-[#2D5A27] -top-20 -left-20"></div>
    <div class="zen-blob w-[500px] h-[500px] bg-[#8B5A2B] bottom-0 right-0" style="animation-delay: -7s;"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 px-8 py-6 flex justify-between items-center bg-[#F7F5F2]/80 backdrop-blur-2xl border-b border-black/5">
        <div class="flex items-center space-x-2">
            <span class="font-serif font-bold text-xl tracking-tighter uppercase">Peak <span class="text-[#8B5A2B]">&</span> Beans</span>
        </div>
        <div class="hidden lg:flex space-x-12 text-[10px] font-bold uppercase tracking-[0.3em] text-neutral-500">
            <a href="#lab" class="hover:text-[#2D5A27] transition-all">Recovery Lab</a>
            <a href="#bar" class="hover:text-[#2D5A27] transition-all">Bio-Bar</a>
            <a href="#tarifs" class="hover:text-[#2D5A27] transition-all">Tarifs</a>
        </div>
        <button onclick="openModal('Candidature Franchise')" class="bg-[#2D5A27] text-white px-8 py-3 rounded-full text-[10px] font-bold uppercase tracking-widest shadow-lg shadow-[#2D5A27]/20 hover:bg-[#1B4332] transition-all">
            Candidater
        </button>
    </nav>

    <!-- Hero -->
    <header class="relative pt-64 pb-24 px-8 lg:px-24 max-w-7xl mx-auto text-center">
        <div class="inline-flex items-center space-x-3 bg-[#2D5A27]/5 px-6 py-2 rounded-full mb-12 border border-[#2D5A27]/10">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2D5A27" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            <span class="text-[10px] font-bold tracking-[0.4em] uppercase text-[#2D5A27]">Bordeaux - Darwin Eco-système</span>
        </div>
        <h1 class="text-7xl md:text-9xl font-serif mb-12 leading-[0.9] text-[#1A1C1A] italic">
            Cultivez votre <br />
            <span class="gradient-text not-italic font-bold">énergie.</span>
        </h1>
        <p class="text-xl text-neutral-600 max-w-2xl mx-auto mb-16 font-light">
            Le premier Bio-Hacking Lab & Specialty Coffee de Bordeaux. <br />
            <span class="text-[#2D5A27] font-medium italic">Performance, Sérénité, Longévité.</span>
        </p>

        <!-- Main Generated Image -->
        <div id="main-brand-image" class="relative w-full aspect-[21/9] rounded-[3rem] overflow-hidden shadow-2xl border border-white/5 bg-[#0a0a0a]">
            <div class="absolute inset-0 flex flex-col items-center justify-center space-y-4">
                <div class="loading-spinner"></div>
                <p class="text-neutral-500 uppercase tracking-[0.4em] text-[10px]">Génération de l'univers...</p>
            </div>
        </div>
    </header>

    <!-- Experience Highlight -->
    <section class="py-24 px-8 lg:px-24 max-w-5xl mx-auto">
        <div class="bg-white p-12 rounded-[3rem] shadow-xl border border-black/5 flex flex-col md:flex-row items-center justify-between gap-12">
            <div class="text-left">
                <span class="bg-[#A7C957]/20 text-[#2D5A27] text-[9px] font-black tracking-widest px-4 py-1.5 rounded-full mb-6 inline-block uppercase">Signature</span>
                <h3 class="text-4xl font-serif italic mb-6">Combo Performance</h3>
                <p class="text-neutral-500 font-light mb-8">45 min de récupération technologique + 1 Café "Focus".</p>
                <div class="text-4xl font-bold">65 €</div>
            </div>
            <button onclick="openModal('Combo Performance')" class="bg-[#1A1C1A] text-white px-10 py-5 rounded-2xl font-bold text-[10px] uppercase tracking-widest hover:bg-[#2D5A27] transition-all">Réserver</button>
        </div>
    </section>

    <!-- Lab & Bar Sections -->
    <section class="py-40 px-8 lg:px-24 max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-32">
        <div id="lab" class="space-y-12">
            <div>
                <h2 class="text-6xl font-serif mb-8 italic">Le Lab.</h2>
                <p class="text-neutral-500 text-lg mb-12">Technologies de pointe pour hacker votre fatigue.</p>
                <div class="space-y-4 text-[10px] font-bold uppercase tracking-widest text-[#2D5A27]">
                    <p>• Cryothérapie Localisée</p>
                    <p>• Photobiomodulation (LED)</p>
                    <p>• Compression Dynamic</p>
                </div>
            </div>
            <div class="dynamic-image rounded-[3rem] overflow-hidden aspect-[4/3] bg-white shadow-xl" data-prompt="Futuristic clean luxury medical wellness lab with red therapy lights and metallic machinery, cinematic.">
                <!-- Loader placeholder -->
            </div>
        </div>
        <div id="bar" class="space-y-12 md:mt-48">
            <div>
                <h2 class="text-6xl font-serif mb-8 italic">Le Bar.</h2>
                <p class="text-neutral-500 text-lg mb-12">Caféine de spécialité et adaptogènes bio.</p>
                <div class="space-y-4 text-[10px] font-bold uppercase tracking-widest text-[#8B5A2B]">
                    <p>• Grains de Spécialité</p>
                    <p>• Lion's Mane & Cordyceps</p>
                    <p>• Élixirs Collagène</p>
                </div>
            </div>
            <div class="dynamic-image rounded-[3rem] overflow-hidden aspect-[4/3] bg-white shadow-xl" data-prompt="Close up of an aesthetic specialty latte with mushroom powder on a stone coaster in a minimalist zen cafe.">
                <!-- Loader placeholder -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-32 border-t border-black/5 text-center px-8">
        <h4 class="font-serif italic text-3xl mb-12">Peak <span class="text-[#8B5A2B]">&</span> Beans</h4>
        <p class="text-[9px] text-neutral-400 tracking-[0.5em] uppercase mb-16">BORDEAUX DARWIN | CULTIVEZ VOTRE ÉNERGIE</p>
        <div class="flex justify-center space-x-12 text-[10px] font-bold uppercase tracking-widest text-[#2D5A27]">
            <a href="#" onclick="openModal('Franchise')">Franchise</a>
            <a href="#" onclick="openModal('Presse')">Presse</a>
            <a href="#" onclick="openModal('Investir')">Investir</a>
        </div>
    </footer>

    <!-- Modal System -->
    <div id="booking-modal" class="fixed inset-0 z-[100] hidden items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-md" onclick="closeModal()"></div>
        <div class="relative bg-[#FDFBF7] w-full max-w-xl rounded-[3rem] shadow-2xl p-12 md:p-16 modal-enter">
            <button onclick="closeModal()" class="absolute top-8 right-8 text-neutral-400 hover:text-black">✕</button>
            <div id="modal-content">
                <span class="text-[10px] font-bold tracking-[0.4em] uppercase text-[#2D5A27] mb-4 block">Peak & Beans</span>
                <h3 id="modal-title" class="text-4xl font-serif italic mb-12">Réservation</h3>
                <form onsubmit="handleModalSubmit(event)" class="space-y-6">
                    <input required type="text" placeholder="Nom complet" class="w-full bg-white border border-black/5 rounded-2xl px-6 py-4 focus:outline-none focus:border-[#2D5A27] transition-all">
                    <input required type="email" placeholder="Email" class="w-full bg-white border border-black/5 rounded-2xl px-6 py-4 focus:outline-none focus:border-[#2D5A27] transition-all">
                    <select id="modal-select" class="w-full bg-white border border-black/5 rounded-2xl px-6 py-4 focus:outline-none focus:border-[#2D5A27] transition-all">
                        <option>Candidature Franchise</option>
                        <option>Combo Performance</option>
                        <option>Séance Recovery</option>
                        <option>Pass Bio-Hacker</option>
                    </select>
                    <button id="modal-submit-btn" class="w-full bg-[#2D5A27] text-white font-bold py-6 rounded-2xl uppercase text-[10px] tracking-widest hover:bg-[#1B4332] transition-all">Envoyer</button>
                </form>
            </div>
        </div>
    </div>

    <script type="module">
        import { GoogleGenAI } from "@google/genai";

        // Gemini Service
        async function fetchImage(prompt) {
            try {
                const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                const response = await ai.models.generateContent({
                    model: 'gemini-2.5-flash-image',
                    contents: { parts: [{ text: `High-end luxury brand aesthetic for Peak & Beans (Bordeaux): ${prompt}. Professional photography, cinematic lighting, photorealistic, architectural digest style.` }] },
                    config: { imageConfig: { aspectRatio: "16:9" } },
                });
                for (const part of response.candidates?.[0]?.content?.parts || []) {
                    if (part.inlineData) return `data:image/png;base64,${part.inlineData.data}`;
                }
                return null;
            } catch (e) {
                console.error("Gemini Error:", e);
                return null;
            }
        }

        // Initialize Dynamic Images
        async function initImages() {
            // Main Hero Image
            const mainContainer = document.getElementById('main-brand-image');
            const mainUrl = await fetchImage("Wide view of a luxury minimalist wellness space in Bordeaux with a specialty coffee bar and biohacking equipment, soft morning light.");
            if (mainUrl) {
                mainContainer.innerHTML = `<img src="${mainUrl}" class="w-full h-full object-cover animate-in fade-in duration-1000" alt="Main Brand">`;
            }

            // Feature Images
            const dynamicDivs = document.querySelectorAll('.dynamic-image');
            dynamicDivs.forEach(async (div) => {
                div.innerHTML = `<div class="w-full h-full flex flex-col items-center justify-center space-y-2">
                    <div class="loading-spinner"></div>
                </div>`;
                const url = await fetchImage(div.dataset.prompt);
                if (url) {
                    div.innerHTML = `<img src="${url}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-1000" alt="Feature">`;
                }
            });
        }

        // Global Modal Controls (available on window)
        window.openModal = function(subject) {
            const modal = document.getElementById('booking-modal');
            const select = document.getElementById('modal-select');
            const title = document.getElementById('modal-title');
            
            if (subject.includes('Franchise')) title.innerText = "Devenir Partenaire";
            else title.innerText = "Réserver l'expérience";

            if (select) {
                for(let option of select.options) {
                    if (option.text.includes(subject)) {
                        select.value = option.text;
                        break;
                    }
                }
            }

            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        };

        window.closeModal = function() {
            const modal = document.getElementById('booking-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = 'auto';
        };

        window.handleModalSubmit = function(e) {
            e.preventDefault();
            const btn = document.getElementById('modal-submit-btn');
            const content = document.getElementById('modal-content');
            
            btn.innerText = "Envoi...";
            btn.disabled = true;

            setTimeout(() => {
                content.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-20 h-20 bg-[#2D5A27]/10 text-[#2D5A27] rounded-full flex items-center justify-center mx-auto mb-8">✓</div>
                        <h3 class="text-4xl font-serif italic mb-6">À bientôt.</h3>
                        <p class="text-neutral-500 mb-12">Nos experts vous recontactent sous 24h.</p>
                        <button onclick="closeModal()" class="bg-black text-white px-12 py-5 rounded-2xl uppercase text-[10px] tracking-widest">Fermer</button>
                    </div>
                `;
            }, 1200);
        };

        // Boot
        document.addEventListener('DOMContentLoaded', initImages);
    </script>
</body>
</html>